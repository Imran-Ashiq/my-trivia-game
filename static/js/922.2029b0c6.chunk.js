"use strict";(self.webpackChunkmy_trivia_game=self.webpackChunkmy_trivia_game||[]).push([[922],{175:(n,e,t)=>{t.r(e),t.d(e,{default:()=>O});var o=t(528),r=t(43),i=t(464),a=t(710),c=t(925),s=t(218);const d=t.p+"static/media/correct.1dd2eda18e900449e771.mp3",l=t.p+"static/media/incorrect.9633cf62a3b34193e0c6.mp3",u=t.p+"static/media/background.b66c1c5db8ea2512ccdd.mp3";var p,h=t(579);const x=i.Ay.div(p||(p=(0,o.A)(["\n  background: ",";\n  color: ",";\n  padding: 20px;\n  border-radius: 10px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  z-index: 1000;\n"])),(n=>n.theme.background),(n=>n.theme.color)),g=n=>{let{onSettingsChange:e}=n;const[t,o]=(0,r.useState)(!1),[i,a]=(0,r.useState)("en");(0,r.useEffect)((()=>{e({darkMode:t,language:i})}),[t,i,e]);return(0,h.jsxs)(x,{children:[(0,h.jsx)("h2",{children:"Settings"}),(0,h.jsxs)("label",{children:["Dark Mode:",(0,h.jsx)("input",{type:"checkbox",checked:t,onChange:n=>{o(n.target.checked)}})]}),(0,h.jsx)("br",{}),(0,h.jsxs)("label",{children:["Language:",(0,h.jsxs)("select",{value:i,onChange:n=>{a(n.target.value)},children:[(0,h.jsx)("option",{value:"en",children:"English"}),(0,h.jsx)("option",{value:"es",children:"Spanish"}),(0,h.jsx)("option",{value:"fr",children:"French"})]})]})]})};var m,f,b,y,A,k,j,w,v,S,_,C;const z=i.Ay.div(m||(m=(0,o.A)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n  background-color: ",";\n  color: ",";\n  font-family: Arial, sans-serif;\n  padding: 20px;\n\n  @media (max-width: 768px) {\n    padding: 10px;\n  }\n"])),(n=>n.theme.background),(n=>n.theme.color)),q=i.Ay.div(f||(f=(0,o.A)(["\n  color: red;\n  font-size: 1.2em;\n  margin-bottom: 20px;\n"]))),E=(0,i.Ay)(c.P.div)(b||(b=(0,o.A)(["\n  background: ",";\n  color: ",";\n  border-radius: 10px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  padding: 20px;\n  max-width: 600px;\n  width: 100%;\n  text-align: center;\n\n  @media (max-width: 768px) {\n    padding: 10px;\n  }\n"])),(n=>n.theme.background),(n=>n.theme.color)),$=i.Ay.p(y||(y=(0,o.A)(["\n  font-size: 1.2em;\n  margin-bottom: 20px;\n\n  @media (max-width: 768px) {\n    font-size: 1em;\n  }\n"]))),I=i.Ay.button(A||(A=(0,o.A)(["\n  background: ",";\n  color: #fff;\n  border: none;\n  border-radius: 5px;\n  padding: 10px 20px;\n  margin: 5px;\n  cursor: pointer;\n  transition: background 0.3s;\n\n  &:hover {\n    background: ",";\n  }\n\n  &:focus {\n    outline: 3px solid #ffbf47;\n  }\n\n  @media (max-width: 768px) {\n    padding: 8px 16px;\n    margin: 3px;\n  }\n"])),(n=>n.$correct?"#28a745":n.$incorrect?"#dc3545":"#007bff"),(n=>n.$correct?"#218838":n.$incorrect?"#c82333":"#0056b3")),P=i.Ay.p(k||(k=(0,o.A)(["\n  font-size: 1em;\n  color: ",";\n\n  @media (max-width: 768px) {\n    font-size: 0.9em;\n  }\n"])),(n=>n.theme.color)),M=i.Ay.p(j||(j=(0,o.A)(["\n  font-size: 1em;\n  color: ",";\n\n  @media (max-width: 768px) {\n    font-size: 0.9em;\n  }\n"])),(n=>n.theme.color)),F=i.Ay.div(w||(w=(0,o.A)(["\n  width: 100%;\n  background-color: #e0e0e0;\n  border-radius: 5px;\n  overflow: hidden;\n  margin-bottom: 20px;\n"]))),L=(0,i.Ay)(c.P.div)(v||(v=(0,o.A)(["\n  height: 10px;\n  background-color: #007bff;\n"]))),N=(0,i.Ay)(c.P.div)(S||(S=(0,o.A)(["\n  height: 10px;\n  background-color: #ff0000;\n"]))),T=i.Ay.button(_||(_=(0,o.A)(["\n  background: #007bff;\n  color: #fff;\n  border: none;\n  border-radius: 5px;\n  padding: 10px 20px;\n  cursor: pointer;\n  transition: background 0.3s;\n  margin-top: 20px;\n\n  &:hover {\n    background: #0056b3;\n  }\n"]))),J=i.Ay.button(C||(C=(0,o.A)(["\n  background: #ffc107;\n  color: #fff;\n  border: none;\n  border-radius: 5px;\n  padding: 10px 20px;\n  cursor: pointer;\n  transition: background 0.3s;\n  margin-top: 20px;\n\n  &:hover {\n    background: #e0a800;\n  }\n"]))),O=n=>{let{category:e,gameMode:t,timeLimit:o,endGame:i,darkMode:c,language:p,onSettingsChange:x}=n;const[m,f]=(0,r.useState)([]),[b,y]=(0,r.useState)(0),[A,k]=(0,r.useState)(0),[j,w]=(0,r.useState)("hard"===t?15:o),[v,S]=(0,r.useState)(!0),[_,C]=(0,r.useState)(null),[O,R]=(0,r.useState)(null),[D,G]=(0,r.useState)(!1),[H,Q]=(0,r.useState)(!1),[U,B]=(0,r.useState)(!1),[K]=(0,s.A)(d),[V]=(0,s.A)(l),[W,{stop:X}]=(0,s.A)(u,{loop:!0});(0,r.useEffect)((()=>(W(),()=>X())),[W,X]),(0,r.useEffect)((()=>{const n=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;try{const o=localStorage.getItem("questions_".concat(e));if(o)return f(JSON.parse(o)),void S(!1);const r="https://opentdb.com/api.php?amount=10&category=".concat(e,"&type=multiple");console.log("Fetching questions from URL:",r);const i=await fetch(r);if(429===i.status&&t<3)return console.warn("Rate limit exceeded, retrying..."),void setTimeout((()=>n(t+1)),1e3);const a=await i.json();if(console.log("API response:",a),!(a.results&&a.results.length>0))throw new Error("No questions found");f(a.results),localStorage.setItem("questions_".concat(e),JSON.stringify(a.results)),S(!1)}catch(_){console.error("Error fetching questions:",_),C("Failed to load questions. Please try again later."),S(!1)}};n()}),[e]),(0,r.useEffect)((()=>{if(j>0){const n=setInterval((()=>w(j-1)),1e3);return()=>clearInterval(n)}Y()}),[j]),(0,r.useEffect)((()=>{Y()}),[Y]);const Y=()=>{m.length>0&&b<m.length-1?(y(b+1),w("hard"===t?15:o)):i(A)};if(v)return(0,h.jsx)(z,{children:(0,h.jsx)(a.A,{size:150,color:"#007bff",loading:v})});if(_)return(0,h.jsx)(z,{children:(0,h.jsx)(q,{children:_})});const Z=m[b],nn=Z?[...Z.incorrect_answers,Z.correct_answer].sort():[],en=(b+1)/m.length*100,tn=j/o*100;return(0,h.jsx)(z,{children:(0,h.jsxs)(E,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},transition:{duration:.5},children:[(0,h.jsx)(F,{children:(0,h.jsx)(L,{initial:{width:0},animate:{width:"".concat(en,"%")}})}),(0,h.jsx)(N,{initial:{width:"100%"},animate:{width:"".concat(tn,"%")}}),(0,h.jsxs)("h2",{children:["Question ",b+1]}),(0,h.jsx)($,{children:Z.question}),(0,h.jsx)("div",{role:"group","aria-labelledby":"question",children:nn.map(((n,e)=>(0,h.jsx)(I,{onClick:()=>(n=>{R(n),G(!0),n===m[b].correct_answer?(k(A+1),K()):V(),setTimeout((()=>{G(!1),R(null),Y()}),2e3)})(n),$correct:D&&n===Z.correct_answer,$incorrect:D&&n===O&&n!==Z.correct_answer,"aria-pressed":O===n,"aria-label":"Answer ".concat(e+1,": ").concat(n),children:n},e)))}),!H&&(0,h.jsx)(J,{onClick:()=>{Q(!0)},children:"Hint"}),(0,h.jsxs)(P,{children:["Time left: ",j," seconds"]}),(0,h.jsxs)(M,{children:["Score: ",A]}),(0,h.jsx)(T,{onClick:()=>{B(!U)},children:"Settings"}),U&&(0,h.jsx)(g,{onSettingsChange:x})]})})}}}]);
//# sourceMappingURL=922.2029b0c6.chunk.js.map